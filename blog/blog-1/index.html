<!DOCTYPE html><!--<Content />--><html lang="en"><head><meta charset="UTF-8"><meta name="description" content="neewbee's blog"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link href="/output.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"><meta name="generator" content="Astro v3.4.0"><title>unset</title><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/about-me.d558aa50.css" /><script type="module" src="/_astro/hoisted.0cda62a6.js"></script><script src="/_astro/Layout.astro_astro_type_script_index_0_lang.ad2aa65a.js" type="module"></script></head><!-- ><--><body class="bg-white dark:bg-gray-900"><div class="min-h-screen max-w-5xl mx-auto w-11/12"><div class="max-w-3xl m-auto w-11/12 font-mono dark:text-white text-l text-black flex flex-col items-center"><div class="prose dark:prose-invert prose-slate flex items-center flex-col w-full"><div class="text-2xl m-6 text-clip"></div><html lang="en"><head><meta charset="UTF-8"><meta name="description" content="neewbee's blog"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link href="/output.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"><meta name="generator" content="Astro v3.4.0"><title>unset</title><!-- Google Tag Manager --><!-- End Google Tag Manager --></head><!-- ><--><body class="bg-white dark:bg-gray-900"><div class="min-h-screen max-w-5xl mx-auto w-11/12"><div class="max-w-3xl m-auto w-11/12 font-mono dark:text-white text-l text-black flex flex-col items-center"><div class="prose dark:prose-invert prose-slate flex items-center flex-col w-full"><div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-language="tsx" data-theme="default">title</div><pre class="dracula" style="background-color:#282A36" tabindex="0" data-language="tsx" data-theme="default"><code data-language="tsx" data-theme="default" style="display:grid"><span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> React, { useEffect, useState } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">react</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { UseMutationResult, useMutation, useQuery } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@tanstack/react-query</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { useSearchParams } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">react-router-dom</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { Box, TablePagination } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@mui/material</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { UploadedImage } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@/components/ImageUpload</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { LogData } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@/components/ProjectLogs/LogItem</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> LogPopup </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@/components/ProjectLogs/LogPopup</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { logMapper } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@/pages/DesignEdit</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { graphql } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@/gql</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { ApprovalStatus, DesignDoc, PpsListQuery, PpsUpdateInput, Pps_Status } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@/gql/graphql</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { graphQLClient } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@/utils</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { ArrayElement } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">@/utils/util-types</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { updatePPSMutationDocument } </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">../edit</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> ActionBar </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">./ActionBar</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> CustomTable </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">./CustomTable</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> PPSTableRow </span><span style="color:#FF79C6">from</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">./PPSTableRow</span><span style="color:#E9F284">&#39;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> queryPPSDocument </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">graphql</span><span style="color:#F8F8F2">(</span><span style="color:#6272A4">/* GraphQL */</span><span style="color:#F8F8F2"> </span><span style="color:#F1FA8C">`</span></span>
<span data-line=""><span style="color:#F1FA8C">  query ppsList($filter: DesignDocFilterInput, $pagination: PaginationInput) {</span></span>
<span data-line=""><span style="color:#F1FA8C">    designDocs(designDocFilterInput: $filter, paginationInput: $pagination) {</span></span>
<span data-line=""><span style="color:#F1FA8C">      edges {</span></span>
<span data-line=""><span style="color:#F1FA8C">        node {</span></span>
<span data-line=""><span style="color:#F1FA8C">          id</span></span>
<span data-line=""><span style="color:#F1FA8C">          season {</span></span>
<span data-line=""><span style="color:#F1FA8C">            text</span></span>
<span data-line=""><span style="color:#F1FA8C">          }</span></span>
<span data-line=""><span style="color:#F1FA8C">          styleId</span></span>
<span data-line=""><span style="color:#F1FA8C">          approveId</span></span>
<span data-line=""><span style="color:#F1FA8C">          category {</span></span>
<span data-line=""><span style="color:#F1FA8C">            name</span></span>
<span data-line=""><span style="color:#F1FA8C">          }</span></span>
<span data-line=""><span style="color:#F1FA8C">          product</span></span>
<span data-line=""><span style="color:#F1FA8C">          image {</span></span>
<span data-line=""><span style="color:#F1FA8C">            downloadUrl</span></span>
<span data-line=""><span style="color:#F1FA8C">            previewUrl</span></span>
<span data-line=""><span style="color:#F1FA8C">          }</span></span>
<span data-line=""><span style="color:#F1FA8C">          pps {</span></span>
<span data-line=""><span style="color:#F1FA8C">            id</span></span>
<span data-line=""><span style="color:#F1FA8C">            status</span></span>
<span data-line=""><span style="color:#F1FA8C">            count</span></span>
<span data-line=""><span style="color:#F1FA8C">            sendForReviewAt</span></span>
<span data-line=""><span style="color:#F1FA8C">            sendForReviewDDL</span></span>
<span data-line=""><span style="color:#F1FA8C">            daysOfReview</span></span>
<span data-line=""><span style="color:#F1FA8C">            isReviewExpired</span></span>
<span data-line=""><span style="color:#F1FA8C">            images {</span></span>
<span data-line=""><span style="color:#F1FA8C">              downloadUrl</span></span>
<span data-line=""><span style="color:#F1FA8C">              previewUrl</span></span>
<span data-line=""><span style="color:#F1FA8C">            }</span></span>
<span data-line=""><span style="color:#F1FA8C">          }</span></span>
<span data-line=""><span style="color:#F1FA8C">          status</span></span>
<span data-line=""><span style="color:#F1FA8C">          sendForReviewAt</span></span>
<span data-line=""><span style="color:#F1FA8C">          sendForReviewDDL</span></span>
<span data-line=""><span style="color:#F1FA8C">          daysOfReview</span></span>
<span data-line=""><span style="color:#F1FA8C">          isReviewExpired</span></span>
<span data-line=""><span style="color:#F1FA8C">          color</span></span>
<span data-line=""><span style="color:#F1FA8C">          logs {</span></span>
<span data-line=""><span style="color:#F1FA8C">            id</span></span>
<span data-line=""><span style="color:#F1FA8C">            user {</span></span>
<span data-line=""><span style="color:#F1FA8C">              name</span></span>
<span data-line=""><span style="color:#F1FA8C">            }</span></span>
<span data-line=""><span style="color:#F1FA8C">            createdAt</span></span>
<span data-line=""><span style="color:#F1FA8C">            section</span></span>
<span data-line=""><span style="color:#F1FA8C">            status</span></span>
<span data-line=""><span style="color:#F1FA8C">            ppsStatus</span></span>
<span data-line=""><span style="color:#F1FA8C">            submitStatus</span></span>
<span data-line=""><span style="color:#F1FA8C">            text</span></span>
<span data-line=""><span style="color:#F1FA8C">            attachments {</span></span>
<span data-line=""><span style="color:#F1FA8C">              downloadUrl</span></span>
<span data-line=""><span style="color:#F1FA8C">              previewUrl</span></span>
<span data-line=""><span style="color:#F1FA8C">            }</span></span>
<span data-line=""><span style="color:#F1FA8C">          }</span></span>
<span data-line=""><span style="color:#F1FA8C">          productColorClassifications {</span></span>
<span data-line=""><span style="color:#F1FA8C">            name</span></span>
<span data-line=""><span style="color:#F1FA8C">            ppsReceived</span></span>
<span data-line=""><span style="color:#F1FA8C">          }</span></span>
<span data-line=""><span style="color:#F1FA8C">        }</span></span>
<span data-line=""><span style="color:#F1FA8C">      }</span></span>
<span data-line=""><span style="color:#F1FA8C">      pageInfo {</span></span>
<span data-line=""><span style="color:#F1FA8C">        count</span></span>
<span data-line=""><span style="color:#F1FA8C">      }</span></span>
<span data-line=""><span style="color:#F1FA8C">    }</span></span>
<span data-line=""><span style="color:#F1FA8C">  }</span></span>
<span data-line=""><span style="color:#F1FA8C">`</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">export</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">type</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">IpManageTableData</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">PpsListQuery</span><span style="color:#F8F8F2">[</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">designDocs</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">][</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">edges</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">export</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">type</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">Row</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">ArrayElement</span><span style="color:#F8F8F2">&lt;</span><span style="color:#FFB86C;font-style:italic">IpManageTableData</span><span style="color:#F8F8F2">&gt;[</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">node</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6272A4">// https://github.com/microsoft/TypeScript/issues/30611#issuecomment-570773496</span></span>
<span data-line=""><span style="color:#6272A4">// eslint-disable-next-line @typescript-eslint/explicit-function-return-type</span></span>
<span data-line=""><span style="color:#FF79C6">export</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">function</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">createEnumChecker</span><span style="color:#F8F8F2">&lt;</span><span style="color:#FFB86C;font-style:italic">T</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">extends</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">TEnumValue</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">extends</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">&gt;(</span><span style="color:#FFB86C;font-style:italic">enumVariable</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">  [</span><span style="color:#FFB86C;font-style:italic">key</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">in</span><span style="color:#F8F8F2"> </span><span style="color:#FFB86C;font-style:italic">T</span><span style="color:#F8F8F2">]</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">TEnumValue</span></span>
<span data-line=""><span style="color:#F8F8F2">}) {</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> enumValues </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> Object.</span><span style="color:#50FA7B">values</span><span style="color:#F8F8F2">(enumVariable)</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6">return</span><span style="color:#F8F8F2"> (</span><span style="color:#FFB86C;font-style:italic">value</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">)</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#FFB86C;font-style:italic">value</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">is</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">TEnumValue</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> enumValues.</span><span style="color:#50FA7B">includes</span><span style="color:#F8F8F2">(value)</span></span>
<span data-line=""><span style="color:#F8F8F2">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> isValidStatus </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">createEnumChecker</span><span style="color:#F8F8F2">(Pps_Status)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">export</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">default</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">function</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">PPSTable</span><span style="color:#F8F8F2">(</span><span style="color:#FFB86C;font-style:italic">props</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">  associatedId</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">null</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">|</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">|</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">undefined</span></span>
<span data-line=""><span style="color:#F8F8F2">  categoryId</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">null</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">|</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">|</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">undefined</span></span>
<span data-line=""><span style="color:#F8F8F2">  editable</span><span style="color:#FF79C6">?:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">boolean</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#50FA7B">onImagePreview</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> (</span><span style="color:#FFB86C;font-style:italic">url</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">void</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#50FA7B">onMultiImagePreview</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> (</span><span style="color:#FFB86C;font-style:italic">images</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">UploadedImage</span><span style="color:#F8F8F2">[]) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">void</span></span>
<span data-line=""><span style="color:#F8F8F2">  page</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">number</span></span>
<span data-line=""><span style="color:#F8F8F2">  rowsPerPage</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">number</span></span>
<span data-line=""><span style="color:#F8F8F2">  selectable</span><span style="color:#FF79C6">?:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">boolean</span></span>
<span data-line=""><span style="color:#F8F8F2">  selected</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">Map</span><span style="color:#F8F8F2">&lt;</span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">Row</span><span style="color:#F8F8F2">&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">  setPage</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">React</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Dispatch</span><span style="color:#F8F8F2">&lt;</span><span style="color:#FFB86C;font-style:italic">React</span><span style="color:#F8F8F2">.</span><span style="color:#FFB86C;font-style:italic">SetStateAction</span><span style="color:#F8F8F2">&lt;</span><span style="color:#8BE9FD;font-style:italic">number</span><span style="color:#F8F8F2">&gt;&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">  setRowsPerPage</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">React</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Dispatch</span><span style="color:#F8F8F2">&lt;</span><span style="color:#FFB86C;font-style:italic">React</span><span style="color:#F8F8F2">.</span><span style="color:#FFB86C;font-style:italic">SetStateAction</span><span style="color:#F8F8F2">&lt;</span><span style="color:#8BE9FD;font-style:italic">number</span><span style="color:#F8F8F2">&gt;&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">  setSelected</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">React</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Dispatch</span><span style="color:#F8F8F2">&lt;</span><span style="color:#FFB86C;font-style:italic">React</span><span style="color:#F8F8F2">.</span><span style="color:#FFB86C;font-style:italic">SetStateAction</span><span style="color:#F8F8F2">&lt;</span><span style="color:#FFB86C;font-style:italic">Map</span><span style="color:#F8F8F2">&lt;</span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">Row</span><span style="color:#F8F8F2">&gt;&gt;&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">})</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">JSX</span><span style="color:#F8F8F2">.</span><span style="color:#8BE9FD;font-style:italic">Element</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">    associatedId,</span></span>
<span data-line=""><span style="color:#F8F8F2">    categoryId,</span></span>
<span data-line=""><span style="color:#F8F8F2">    editable,</span></span>
<span data-line=""><span style="color:#F8F8F2">    onImagePreview,</span></span>
<span data-line=""><span style="color:#F8F8F2">    onMultiImagePreview,</span></span>
<span data-line=""><span style="color:#F8F8F2">    page,</span></span>
<span data-line=""><span style="color:#F8F8F2">    rowsPerPage,</span></span>
<span data-line=""><span style="color:#F8F8F2">    selectable,</span></span>
<span data-line=""><span style="color:#F8F8F2">    selected,</span></span>
<span data-line=""><span style="color:#F8F8F2">    setPage,</span></span>
<span data-line=""><span style="color:#F8F8F2">    setRowsPerPage,</span></span>
<span data-line=""><span style="color:#F8F8F2">    setSelected,</span></span>
<span data-line=""><span style="color:#F8F8F2">  } </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> props</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> [searchParams] </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">useSearchParams</span><span style="color:#F8F8F2">()</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> projectId </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> searchParams.</span><span style="color:#50FA7B">get</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">projectId</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;&#39;</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> seasonId </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> searchParams.</span><span style="color:#50FA7B">get</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">seasonId</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;&#39;</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> status</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> searchParams.</span><span style="color:#50FA7B">get</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">status</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;&#39;</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> [logTargetId, setLogTargetId] </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">useState</span><span style="color:#F8F8F2">&lt;</span><span style="color:#8BE9FD;font-style:italic">null</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">|</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">&gt;(</span><span style="color:#BD93F9">null</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> filter </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">isValidStatus</span><span style="color:#F8F8F2">(status)</span></span>
<span data-line=""><span style="color:#F8F8F2">    </span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">      associatedId,</span></span>
<span data-line=""><span style="color:#F8F8F2">      categoryId,</span></span>
<span data-line=""><span style="color:#F8F8F2">      ppsStatus</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [status],</span></span>
<span data-line=""><span style="color:#F8F8F2">      projectId,</span></span>
<span data-line=""><span style="color:#F8F8F2">      seasonId,</span></span>
<span data-line=""><span style="color:#F8F8F2">      status</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.Proposed,</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.Review,</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.Approved,</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.Rejected,</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#6272A4">// ApprovalStatus.Cancelled,</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.ModifyAccepted,</span></span>
<span data-line=""><span style="color:#F8F8F2">      ],</span></span>
<span data-line=""><span style="color:#F8F8F2">    }</span></span>
<span data-line=""><span style="color:#F8F8F2">    </span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">      associatedId,</span></span>
<span data-line=""><span style="color:#F8F8F2">      categoryId,</span></span>
<span data-line=""><span style="color:#F8F8F2">      projectId,</span></span>
<span data-line=""><span style="color:#F8F8F2">      seasonId,</span></span>
<span data-line=""><span style="color:#F8F8F2">      status</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.Proposed,</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.Review,</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.Approved,</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.Rejected,</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#6272A4">// ApprovalStatus.Cancelled,</span></span>
<span data-line=""><span style="color:#F8F8F2">        ApprovalStatus.ModifyAccepted,</span></span>
<span data-line=""><span style="color:#F8F8F2">      ],</span></span>
<span data-line=""><span style="color:#F8F8F2">    }</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> queryResult </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">useQuery</span><span style="color:#F8F8F2">({</span></span>
<span data-line=""><span style="color:#F8F8F2">    </span><span style="color:#50FA7B">queryFn</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">async</span><span style="color:#F8F8F2"> () </span><span style="color:#FF79C6">=&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">      </span><span style="color:#FF79C6">await</span><span style="color:#F8F8F2"> graphQLClient.</span><span style="color:#50FA7B">request</span><span style="color:#F8F8F2">(queryPPSDocument, {</span></span>
<span data-line=""><span style="color:#F8F8F2">        filter,</span></span>
<span data-line=""><span style="color:#F8F8F2">        pagination</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> { page, pageSize</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> rowsPerPage },</span></span>
<span data-line=""><span style="color:#F8F8F2">      }),</span></span>
<span data-line=""><span style="color:#F8F8F2">    queryKey</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> [</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">queryPPSList</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">],</span></span>
<span data-line=""><span style="color:#F8F8F2">  })</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> [idToShowLogs, setIdToShowLogs] </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">useState</span><span style="color:#F8F8F2">&lt;</span><span style="color:#8BE9FD;font-style:italic">null</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">|</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">&gt;(</span><span style="color:#BD93F9">null</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> [logs, setLogs] </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">useState</span><span style="color:#F8F8F2">&lt;</span><span style="color:#FFB86C;font-style:italic">LogData</span><span style="color:#F8F8F2">[]&gt;([])</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> [popupTitle, setPopupTitle] </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">useState</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#39;&#39;</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> [collapsed, setCollapsed] </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">useState</span><span style="color:#F8F8F2">&lt;</span><span style="color:#8BE9FD;font-style:italic">boolean</span><span style="color:#F8F8F2">&gt;(</span><span style="color:#BD93F9">true</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#50FA7B">useEffect</span><span style="color:#F8F8F2">(() </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">    </span><span style="color:#FF79C6">void</span><span style="color:#F8F8F2"> queryResult.</span><span style="color:#50FA7B">refetch</span><span style="color:#F8F8F2">()</span></span>
<span data-line=""><span style="color:#F8F8F2">    </span><span style="color:#6272A4">// eslint-disable-next-line react-hooks/exhaustive-deps</span></span>
<span data-line=""><span style="color:#F8F8F2">  }, [projectId, seasonId, status, page, rowsPerPage, associatedId, categoryId])</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> updatePPS </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">useMutation</span><span style="color:#F8F8F2">({</span></span>
<span data-line=""><span style="color:#F8F8F2">    </span><span style="color:#50FA7B">mutationFn</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">async</span><span style="color:#F8F8F2"> (</span><span style="color:#FFB86C;font-style:italic">input</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">PpsUpdateInput</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">await</span><span style="color:#F8F8F2"> graphQLClient.</span><span style="color:#50FA7B">request</span><span style="color:#F8F8F2">(updatePPSMutationDocument, { input }),</span></span>
<span data-line=""><span style="color:#F8F8F2">  })</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#50FA7B">useEffect</span><span style="color:#F8F8F2">(() </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">    </span><span style="color:#FF79C6">if</span><span style="color:#F8F8F2"> (idToShowLogs) {</span></span>
<span data-line=""><span style="color:#F8F8F2">      </span><span style="color:#FF79C6" data-highlighted-chars="">const</span><span style="color:#F8F8F2"> row </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> queryResult.data?.designDocs.edges?.</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">((</span><span style="color:#FFB86C;font-style:italic">edge</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> edge.node.id </span><span style="color:#FF79C6">===</span><span style="color:#F8F8F2"> idToShowLogs)?.node</span></span>
<span data-line=""><span style="color:#F8F8F2">      </span><span style="color:#FF79C6">if</span><span style="color:#F8F8F2"> (row?.logs) </span><span style="color:#50FA7B">setLogs</span><span style="color:#F8F8F2">(</span><span style="color:#50FA7B">logMapper</span><span style="color:#F8F8F2">(row?.logs </span><span style="color:#FF79C6">as</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">DesignDoc</span><span style="color:#F8F8F2">[</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">logs</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">]))</span></span>
<span data-line=""><span style="color:#F8F8F2">      </span><span style="color:#FF79C6">else</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B">setIdToShowLogs</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">null</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">      }</span></span>
<span data-line=""><span style="color:#F8F8F2">    }</span></span>
<span data-line=""><span style="color:#F8F8F2">    </span><span style="color:#6272A4">// eslint-disable-next-line react-hooks/exhaustive-deps</span></span>
<span data-line=""><span style="color:#F8F8F2">  }, [idToShowLogs, queryResult.data])</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6">return</span><span style="color:#F8F8F2"> (</span></span>
<span data-line=""><span style="color:#F8F8F2">    &lt;</span><span style="color:#8BE9FD;font-style:italic">Box</span><span style="color:#F8F8F2">&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">      {selectable </span><span style="color:#FF79C6">&amp;&amp;</span><span style="color:#F8F8F2"> (</span></span>
<span data-line=""><span style="color:#F8F8F2">        &lt;</span><span style="color:#8BE9FD;font-style:italic">ActionBar</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">onSuccess</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{() </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#FF79C6">void</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">async</span><span style="color:#F8F8F2"> () </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">              </span><span style="color:#50FA7B">setSelected</span><span style="color:#F8F8F2">(</span><span style="color:#FF79C6;font-weight:bold">new</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">Map</span><span style="color:#F8F8F2">())</span></span>
<span data-line=""><span style="color:#F8F8F2">              </span><span style="color:#FF79C6">void</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">await</span><span style="color:#F8F8F2"> queryResult.</span><span style="color:#50FA7B">refetch</span><span style="color:#F8F8F2">())</span></span>
<span data-line=""><span style="color:#F8F8F2">            })()</span></span>
<span data-line=""><span style="color:#F8F8F2">          }}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">selected</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{selected}</span></span>
<span data-line=""><span style="color:#F8F8F2">        /&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">      )}</span></span>
<span data-line=""><span style="color:#F8F8F2">      &lt;</span><span style="color:#8BE9FD;font-style:italic">Box</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B;font-style:italic">sx</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{{ position</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">relative</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> }}&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">        &lt;</span><span style="color:#8BE9FD;font-style:italic">LogPopup</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">logs</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{logs}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">mutation</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{updatePPS </span><span style="color:#FF79C6">as</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">UseMutationResult</span><span style="color:#F8F8F2">}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">onClose</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{() </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B">setCollapsed</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">true</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">          }}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">onOpen</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{() </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B">setCollapsed</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">false</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">          }}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">queryRefetch</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{queryResult.refetch}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">show</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{</span><span style="color:#FF79C6">!</span><span style="color:#F8F8F2">collapsed </span><span style="color:#FF79C6">?</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">!</span><span style="color:#F8F8F2">collapsed </span><span style="color:#FF79C6">||</span><span style="color:#F8F8F2"> idToShowLogs </span><span style="color:#FF79C6">!=</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">null</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">false</span><span style="color:#F8F8F2">}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">targetId</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{logTargetId </span><span style="color:#FF79C6">as</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">title</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{popupTitle}</span></span>
<span data-line=""><span style="color:#F8F8F2">        /&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">      &lt;/</span><span style="color:#8BE9FD;font-style:italic">Box</span><span style="color:#F8F8F2">&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">      &lt;</span><span style="color:#8BE9FD;font-style:italic">CustomTable</span><span style="color:#F8F8F2">&lt;</span><span style="color:#FFB86C;font-style:italic">Row</span><span style="color:#F8F8F2">, </span><span style="color:#FF79C6">keyof</span><span style="color:#F8F8F2"> </span><span style="color:#FFB86C;font-style:italic">Row</span><span style="color:#F8F8F2">&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">headCells</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{[</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">序号</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">合作季度</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">客户款号</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">送审编号</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">品类</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">产品名称</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">款式缩略图</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">产前样缩略图</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">设计稿状态</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">颜色</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">产前样状态</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">          { label</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">操作</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> },</span></span>
<span data-line=""><span style="color:#F8F8F2">        ]}</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">isItemSelected</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{(</span><span style="color:#FFB86C;font-style:italic">row</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">selected</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> selected.</span><span style="color:#50FA7B">has</span><span style="color:#F8F8F2">(row.id)}</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">keyName</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">id</span><span style="color:#E9F284">&quot;</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">multiSelect</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{selectable}</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">onClick</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{(</span><span style="color:#FFB86C;font-style:italic">e</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">row</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#FF79C6">if</span><span style="color:#F8F8F2"> ([</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">a</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">img</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">, </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">input</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">].</span><span style="color:#50FA7B">includes</span><span style="color:#F8F8F2">((e.target </span><span style="color:#FF79C6">as</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">HTMLElement</span><span style="color:#F8F8F2">).localName)) </span><span style="color:#FF79C6">return</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#FF79C6">if</span><span style="color:#F8F8F2"> (row.id </span><span style="color:#FF79C6">===</span><span style="color:#F8F8F2"> idToShowLogs) {</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B">setIdToShowLogs</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">null</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B">setCollapsed</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">true</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#FF79C6">return</span></span>
<span data-line=""><span style="color:#F8F8F2">          }</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B">setPopupTitle</span><span style="color:#F8F8F2">(row.approveId </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> row.product </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;&#39;</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B">setIdToShowLogs</span><span style="color:#F8F8F2">(row.id </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">null</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B">setLogTargetId</span><span style="color:#F8F8F2">(row.pps?.id </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">null</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B">setCollapsed</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">false</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">        }}</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">onSelect</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{(</span><span style="color:#FFB86C;font-style:italic">selected</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">Map</span><span style="color:#F8F8F2">&lt;</span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">Row</span><span style="color:#F8F8F2">&gt;) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B">setSelected</span><span style="color:#F8F8F2">(selected)</span></span>
<span data-line=""><span style="color:#F8F8F2">        }}</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">renderRow</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{(</span><span style="color:#FFB86C;font-style:italic">row</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">i</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> (</span></span>
<span data-line=""><span style="color:#F8F8F2">          &lt;</span><span style="color:#8BE9FD;font-style:italic">PPSTableRow</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B;font-style:italic">data</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{row}</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B;font-style:italic">editable</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{editable </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">false</span><span style="color:#F8F8F2">}</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B;font-style:italic">key</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{row.id}</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B;font-style:italic">onImagePreview</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{(</span><span style="color:#FFB86C;font-style:italic">url</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">string</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">              </span><span style="color:#50FA7B">onImagePreview</span><span style="color:#F8F8F2">(url)</span></span>
<span data-line=""><span style="color:#F8F8F2">            }}</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B;font-style:italic">onMultiImagePreview</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{(</span><span style="color:#FFB86C;font-style:italic">images</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD;font-style:italic">UploadedImage</span><span style="color:#F8F8F2">[]) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">              </span><span style="color:#50FA7B">onMultiImagePreview</span><span style="color:#F8F8F2">(images)</span></span>
<span data-line=""><span style="color:#F8F8F2">            }}</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B;font-style:italic">order</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{i}</span></span>
<span data-line=""><span style="color:#F8F8F2">          /&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">        )}</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">rows</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{queryResult.data?.designDocs.edges?.</span><span style="color:#50FA7B">map</span><span style="color:#F8F8F2">((</span><span style="color:#FFB86C;font-style:italic">edge</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> edge.node) </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> []}</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">selected</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{selected}</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">sxTable</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{{</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">&amp; .MuiTableCell-root</span><span style="color:#E9F284">&#39;</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">            pl</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">1</span><span style="color:#F8F8F2">,</span></span>
<span data-line=""><span style="color:#F8F8F2">            pr</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">1</span><span style="color:#F8F8F2">,</span></span>
<span data-line=""><span style="color:#F8F8F2">          },</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">&amp; .MuiTableCell-root:first-child</span><span style="color:#E9F284">&#39;</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">            pl</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">2</span><span style="color:#F8F8F2">,</span></span>
<span data-line=""><span style="color:#F8F8F2">          },</span></span>
<span data-line=""><span style="color:#F8F8F2">        }}</span></span>
<span data-line=""><span style="color:#F8F8F2">        </span><span style="color:#50FA7B;font-style:italic">sxTableHead</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{{ backgroundColor</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">#eee</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> }}</span></span>
<span data-line=""><span style="color:#F8F8F2">      /&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">      {</span><span style="color:#FF79C6">!</span><span style="color:#F8F8F2">queryResult.isLoading </span><span style="color:#FF79C6">&amp;&amp;</span><span style="color:#F8F8F2"> (</span></span>
<span data-line=""><span style="color:#F8F8F2">        &lt;</span><span style="color:#8BE9FD;font-style:italic">TablePagination</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">component</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">div</span><span style="color:#E9F284">&quot;</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">count</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{queryResult.data?.designDocs.pageInfo?.count </span><span style="color:#FF79C6">??</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">onPageChange</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{(</span><span style="color:#FFB86C;font-style:italic">e</span><span style="color:#F8F8F2">, </span><span style="color:#FFB86C;font-style:italic">v</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B">setPage</span><span style="color:#F8F8F2">(v)</span></span>
<span data-line=""><span style="color:#F8F8F2">          }}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">onRowsPerPageChange</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{(</span><span style="color:#FFB86C;font-style:italic">e</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B">setRowsPerPage</span><span style="color:#F8F8F2">(</span><span style="color:#50FA7B">parseInt</span><span style="color:#F8F8F2">(e.target.value))</span></span>
<span data-line=""><span style="color:#F8F8F2">            </span><span style="color:#50FA7B">setPage</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">)</span></span>
<span data-line=""><span style="color:#F8F8F2">          }}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">page</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{page}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">rowsPerPage</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{rowsPerPage}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">rowsPerPageOptions</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{[</span><span style="color:#BD93F9">10</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">25</span><span style="color:#F8F8F2">, </span><span style="color:#BD93F9">100</span><span style="color:#F8F8F2">]}</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">showFirstButton</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">showLastButton</span></span>
<span data-line=""><span style="color:#F8F8F2">          </span><span style="color:#50FA7B;font-style:italic">sx</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{{ mr</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">2</span><span style="color:#F8F8F2"> }}</span></span>
<span data-line=""><span style="color:#F8F8F2">        /&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">      )}</span></span>
<span data-line=""><span style="color:#F8F8F2">    &lt;/</span><span style="color:#8BE9FD;font-style:italic">Box</span><span style="color:#F8F8F2">&gt;</span></span>
<span data-line=""><span style="color:#F8F8F2">  )</span></span>
<span data-line=""><span style="color:#F8F8F2">}</span></span></code></pre><div data-rehype-pretty-code-caption="" data-language="tsx" data-theme="default">caption</div></div></div></div></div><!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TCHKPM67" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!-- End Google Tag Manager (noscript) --></body></html></div></div></div><!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TCHKPM67" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!-- End Google Tag Manager (noscript) --></body></html>