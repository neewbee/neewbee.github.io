<!DOCTYPE html><!--<Content />--><html lang="en"><head><meta charset="UTF-8"><meta name="description" content="neewbee's blog"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link href="/output.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"><meta name="generator" content="Astro v3.4.0"><title>unset</title><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/about-me.d558aa50.css" /><script type="module" src="/_astro/hoisted.0cda62a6.js"></script></head><!-- ><--><body class="bg-white dark:bg-gray-900"><div class="min-h-screen max-w-5xl mx-auto w-11/12"><div class="max-w-3xl m-auto w-11/12 font-mono dark:text-white text-l text-black flex flex-col items-center"><div class="prose dark:prose-invert prose-slate flex items-center flex-col w-full"><div class="text-2xl m-6 text-clip"></div><div data-rehype-pretty-code-fragment=""><pre class="dracula" style="background-color:#282A36" tabindex="0" data-language="glsl" data-theme="default"><code data-language="glsl" data-theme="default" style="display:grid"><span data-line=""><span style="color:#FF79C6">uniform</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">float</span><span style="color:#F8F8F2"> uRefractPower;</span></span>
<span data-line=""><span style="color:#FF79C6">uniform</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">float</span><span style="color:#F8F8F2"> uChromaticAberration;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6272A4">// ...</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">vec3</span><span style="color:#F8F8F2"> color </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">vec3</span><span style="color:#F8F8F2">(</span><span style="color:#BD93F9">0.0</span><span style="color:#F8F8F2">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FF79C6">for</span><span style="color:#F8F8F2"> ( </span><span style="color:#FF79C6">int</span><span style="color:#F8F8F2"> i </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">0</span><span style="color:#F8F8F2">; i </span><span style="color:#FF79C6">&lt;</span><span style="color:#F8F8F2"> LOOP; i </span><span style="color:#FF79C6">++</span><span style="color:#F8F8F2"> ) {</span></span>
<span data-line=""><span style="color:#F8F8F2">  </span><span style="color:#FF79C6">float</span><span style="color:#F8F8F2"> slide </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">float</span><span style="color:#F8F8F2">(i) </span><span style="color:#FF79C6">/</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">float</span><span style="color:#F8F8F2">(LOOP) </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">0.1</span><span style="color:#F8F8F2">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">  vec3 refractVecR </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">refract</span><span style="color:#F8F8F2">(eyeVector, normal, iorRatioRed);</span></span>
<span data-line=""><span style="color:#F8F8F2">  vec3 refractVecG </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">refract</span><span style="color:#F8F8F2">(eyeVector, normal, iorRatioGreen);</span></span>
<span data-line=""><span style="color:#F8F8F2">  vec3 refractVecB </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">refract</span><span style="color:#F8F8F2">(eyeVector, normal, iorRatioBlue);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F8F8F2">  color.r </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">texture2D</span><span style="color:#F8F8F2">(uTexture, uv </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> refractVecR.xy </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> (uRefractPower </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> slide </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">1.0</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> uChromaticAberration).r;</span></span>
<span data-line=""><span style="color:#F8F8F2">  color.g </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">texture2D</span><span style="color:#F8F8F2">(uTexture, uv </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> refractVecG.xy </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> (uRefractPower </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> slide </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">2.0</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> uChromaticAberration).g;</span></span>
<span data-line=""><span style="color:#F8F8F2">  color.b </span><span style="color:#FF79C6">+=</span><span style="color:#F8F8F2"> </span><span style="color:#50FA7B">texture2D</span><span style="color:#F8F8F2">(uTexture, uv </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> refractVecB.xy </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> (uRefractPower </span><span style="color:#FF79C6">+</span><span style="color:#F8F8F2"> slide </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">3.0</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2"> uChromaticAberration).b;</span></span>
<span data-line=""><span style="color:#F8F8F2">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6272A4">// Divide by the number of layers to normalize colors (rgb values can be worth up to the value of LOOP)</span></span>
<span data-line=""><span style="color:#F8F8F2">color </span><span style="color:#FF79C6">/=</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">float</span><span style="color:#F8F8F2">( LOOP );</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6272A4">//...</span></span></code></pre></div></div></div></div><!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TCHKPM67" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!-- End Google Tag Manager (noscript) --></body></html>